<!DOCTYPE html>
<html class="light" lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BettSoft - Reporte de Sanitarios</title>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet"
  />
  <link
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
    rel="stylesheet"
  />

  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>

  <style>
    .material-symbols-outlined {
      font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
    }
  </style>

  <script id="tailwind-config">
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            "primary": "#003366",
            "accent": "#D4AF37",
            "background-light": "#F0F2F5",
            "background-dark": "#111621",
            "surface": "#FFFFFF",
            "text-main": "#212529",
          },
          fontFamily: {
            "display": ["Public Sans", "sans-serif"]
          },
          borderRadius: {
            "DEFAULT": "0.5rem",
            "lg": "1rem",
            "xl": "1.5rem",
            "full": "9999px"
          },
        },
      },
    }
  </script>
</head>

<body class="font-display bg-background-light dark:bg-background-dark text-text-main">
  <div class="relative flex min-h-screen w-full flex-col">

    <!-- HEADER NUEVO -->
<!-- HEADER -->
<header class="bg-primary text-white shadow-md">
  <!-- Barra superior -->
  <div class="max-w-6xl mx-auto px-4 sm:px-6 py-3 flex items-center justify-between">

    <!-- Logo -->
    <a href="index.html" class="flex items-center">
      <img
        src="images/logo.png"
        alt="Logo FES Acatlán"
        class="h-10 sm:h-14 w-auto"
      />
    </a>

    <!-- Menú de escritorio -->
    <nav class="hidden sm:flex gap-8 text-sm md:text-base">
      <a href="index.html"
         class="pb-1 border-b-2 border-transparent hover:border-white transition">
        Inicio
      </a>
      <a href="reportar.html"
         class="pb-1 border-b-2 border-white font-semibold">
        Nuevo Incidente
      </a>
      <a href="consultar.html"
         class="pb-1 border-b-2 border-transparent hover:border-white transition">
        Consultar Incidente
      </a>
    </nav>

    <!-- Botón Iniciar sesión (solo escritorio) -->
    <a
      href="login.html"
      class="hidden sm:inline-flex items-center gap-2 text-white text-sm font-medium
             hover:shadow-md hover:bg-white/10 px-3 py-2 rounded-md transition"
    >
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none"
           viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round"
              d="M15 3h4a2 2 0 012 2v4m0 6v4a2 2 0 01-2 2h-4m-6 0H5a2 2 0 01-2-2v-4m0-6V5a2 2 0 012-2h4" />
      </svg>
      Iniciar sesión
    </a>

    <!-- Botón hamburguesa (solo móvil) -->
    <button
      type="button"
      class="inline-flex items-center justify-center sm:hidden p-2 rounded-md hover:bg-white/10 transition"
      onclick="toggleMobileMenu()"
      aria-label="Abrir menú"
    >
      <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none"
           viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round"
              d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
  </div>

  <!-- Menú móvil desplegable -->
  <div id="mobile-menu"
       class="sm:hidden hidden border-t border-white/20 bg-primary/95">
    <nav class="flex flex-col px-4 py-3 gap-3 text-sm">
      <a href="index.html"
         class="py-1 border-b border-white/10">
        Inicio
      </a>
      <a href="reportar.html"
         class="py-1 border-b border-white/10 font-semibold">
        Nuevo Incidente
      </a>
      <a href="consultar.html"
         class="py-1 border-b border-white/10">
        Consultar Incidente
      </a>
      <a href="login.html"
         class="pt-2 flex items-center gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none"
             viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round"
                d="M15 3h4a2 2 0 012 2v4m0 6v4a2 2 0 01-2 2h-4m-6 0H5a2 2 0 01-2-2v-4m0-6V5a2 2 0 012-2h4" />
        </svg>
        Iniciar sesión
      </a>
    </nav>
  </div>
</header>



    <!-- FIN HEADER -->

    <!-- CONTENIDO PRINCIPAL -->
    <main class="flex flex-1 justify-center px-4 py-6 sm:px-6 lg:px-8">
      <div class="w-full max-w-2xl">
        <div class="mb-6 text-center">
          <h1 class="text-3xl font-bold text-primary">
            Reporte de incidencia
          </h1>
        </div>

<form 
  id="reporte-form"
  class="flex flex-col gap-6"
  enctype="multipart/form-data"
>
  <!-- Card principal -->
  <section class="rounded-2xl bg-surface/95 shadow-lg border border-slate-100 px-6 py-6 sm:px-8 sm:py-7 space-y-6">

    <!-- Título y descripción -->
    <header class="space-y-1">
      <p class="text-2xl font-bold text-primary tracking-[-0.02em]">
        Detalles del incidente
      </p>
      <p class="text-sm text-slate-500">
        Utiliza este formulario para reportar cualquier problema en los sanitarios de la FES Acatlán.
      </p>
    </header>

    <!-- Campos principales -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6">

      <!-- Tipo de problema -->
      <div class="md:col-span-2">
        <label class="block text-sm font-medium text-slate-700 mb-1">
          Tipo de problema
        </label>
        <select
          name="tipo_problema"
          id="select-tipo"
          required
          class="mt-0 block w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-sm shadow-sm focus:border-primary focus:ring-2 focus:ring-primary/40"
        >
          <option value="fuga">Fuga</option>
          <option value="taza_tapada">WC tapado</option>
          <option value="orinal_tapado">Mingitorio tapado</option>
          <option value="no_papel">No hay papel</option>
          <option value="no_jabon">No hay jabón</option>
          <option value="suciedad">Suciedad</option>
          <option value="mal_olor">Mal olor</option>
        </select>
      </div>

      <!-- Edificio -->
      <div>
        <label class="block text-sm font-medium text-slate-700 mb-1">
          Edificio
        </label>
        <select
          id="select-edificio"
          name="edificio"
          required
          class="block w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-sm shadow-sm focus:border-primary focus:ring-2 focus:ring-primary/40"
        >
          <option value="">Seleccione el edificio</option>
          <option value="A1-A2">Edificio A-1 / A-2</option>
          <option value="A3-A4">Edificio A-3 / A-4</option>
          <option value="A5-A6">Edificio A-5 / A-6</option>
          <option value="A7-A8">Edificio A-7 / A-8</option>
          <option value="A9-A10">Edificio A-9 / A-10</option>
          <option value="A11-A12">Edificio A-11 / A-12</option>
          <option value="Idiomas">Idiomas (A-13 / A-14)</option>
          <option value="A15">Edificio A-15</option>
          <option value="CEDETEC">CEDETEC</option>
          <option value="Posgrado">Posgrado</option>
          <option value="CEMM">CEMM</option>
        </select>
      </div>

      <!-- Nivel -->
      <div>
        <label class="block text-sm font-medium text-slate-700 mb-1">
          Nivel
        </label>
        <select
          id="select-nivel"
          name="nivel"
          required
          class="block w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-sm shadow-sm focus:border-primary focus:ring-2 focus:ring-primary/40"
        >
          <option value="">Seleccione nivel</option>
        </select>
      </div>

      <!-- Sexo -->
      <div>
        <label class="block text-sm font-medium text-slate-700 mb-1">
          Sexo
        </label>
        <select
          id="select-sexo"
          name="sexo"
          required
          class="block w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-sm shadow-sm focus:border-primary focus:ring-2 focus:ring-primary/40"
        >
          <option value="">Seleccione sexo</option>
        </select>
      </div>

      <!-- Pasillo -->
      <div>
        <label class="block text-sm font-medium text-slate-700 mb-1">
          Pasillo
        </label>
        <select
          name="pasillo"
          class="block w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-sm shadow-sm focus:border-primary focus:ring-2 focus:ring-primary/40"
        >
          <option value="">--</option>
          <option value="frente">Frente</option>
          <option value="atras">Atrás</option>
        </select>
      </div>

    </div>
  </section>

  <!-- Card de datos opcionales -->
  <section class="rounded-2xl bg-surface/95 shadow border border-slate-100 px-6 py-5 sm:px-8 sm:py-6 space-y-4">
    <h2 class="text-base font-semibold text-slate-800">
      Datos adicionales
    </h2>

    <!-- Número de cuenta -->
    <div class="space-y-1">
      <label class="block text-sm font-medium text-slate-700">
        Número de cuenta <span class="text-slate-400">(opcional)</span>
      </label>
      <input
        type="text"
        name="numero_cuenta"
        class="block w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-sm shadow-sm focus:border-primary focus:ring-2 focus:ring-primary/40"
        placeholder="Ej. 318241144"
      />
      <p class="text-xs text-slate-400">
        Si marcas el reporte como anónimo, este campo se ignorará.
      </p>
    </div>

    <!-- Anónimo -->
    <label class="flex items-center gap-2 text-sm text-slate-700">
      <input
        type="checkbox"
        name="es_anonimo"
        value="true"
        class="rounded border-slate-300 text-primary focus:ring-primary/60"
      />
      Prefiero enviar reporte anónimo
    </label>
  </section>

  <!-- Card de imagen / cámara -->
  <section class="rounded-2xl bg-surface/95 shadow border border-slate-100 px-6 py-5 sm:px-8 sm:py-6 space-y-4">

    <div class="space-y-1">
      <h2 class="text-base font-semibold text-slate-800">
        Imagen <span class="text-slate-400 text-xs">(opcional)</span>
      </h2>
      <p class="text-xs text-slate-500">
        Puedes tomar una foto con la cámara o subirla desde tus archivos.
      </p>
    </div>

    <div id="camera-wrapper" class="flex flex-col gap-3">
      <!-- Video en vivo / preview -->
      <div class="relative overflow-hidden rounded-xl border border-dashed border-slate-300 bg-slate-50">
        <video
          id="video"
          autoplay
          playsinline
          class="w-full max-h-80 object-cover rounded-xl bg-black/60"
        ></video>
        <canvas
          id="canvas"
          class="w-full max-h-80 object-contain rounded-xl hidden bg-black"
        ></canvas>
      </div>

      <!-- Controles cámara -->
      <div class="flex flex-wrap gap-2">
        <button
          type="button"
          id="btn-start"
          class="inline-flex items-center justify-center gap-1 rounded-full bg-primary px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary/90"
        >
          Abrir cámara
        </button>
        <button
          type="button"
          id="btn-take"
          class="inline-flex items-center justify-center gap-1 rounded-full bg-accent px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-accent/90 hidden"
        >
          Tomar foto
        </button>
        <button
          type="button"
          id="btn-retake"
          class="inline-flex items-center justify-center gap-1 rounded-full border border-slate-300 px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 hidden"
        >
          Retomar
        </button>
        <button
          type="button"
          id="btn-confirm"
          class="inline-flex items-center justify-center gap-1 rounded-full bg-emerald-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-emerald-700 hidden"
        >
          Confirmar
        </button>
      </div>

      <!-- Fallback archivo -->
      <div id="fallback-file" class="mt-2 hidden">
        <p class="text-xs text-slate-500 mb-1">
          Si tu navegador no permite cámara, sube una foto (preferentemente tomada ahora).
        </p>
        <input
          type="file"
          id="file-fallback"
          accept="image/*"
          capture="environment"
          name="file_upload"
          class="block w-full text-sm text-slate-600 file:mr-4 file:rounded-full file:border-0 file:bg-primary/10 file:px-4 file:py-2 file:text-sm file:font-semibold file:text-primary hover:file:bg-primary/20"
        />
      </div>
    </div>
  </section>

  <!-- Botón enviar -->
  <button
    type="submit"
    class="mt-2 flex h-14 w-full items-center justify-center rounded-full bg-primary px-8 text-lg font-semibold text-white shadow-md transition hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary/60 focus:ring-offset-2"
  >
    Enviar incidente
  </button>
</form>

      </div>
    </main>
  </div>
  <script>
  function toggleMobileMenu() {
    const menu = document.getElementById('mobile-menu');
    menu.classList.toggle('hidden');
  }
</script><script src="./javascript/config.js"></script>  <script src="./javascript/toasts.js"></script>
  <script src="./javascript/reportar.js"></script>
</body>

</html>
</body>
</html>